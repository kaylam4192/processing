<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>

<head>
    <title>Processing Template</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.4.13/p5.js"></script>
    <script>
        var rectangles = [];
        var score = 0;

        function setup() {
            createCanvas(700, 700);
            for (var i = 0; i < 5; i++) {
                rectangles.push(new Rectangle());
            }
            
        }

        function draw() {
            background(64,26,64);
            fill(255); 
            textSize(30);
            text("Click on the rectangles after the boundary line, ", 40, 40);
            text("but before it leaves the screen!!!" , 120, 90);
            text("See how many you can get. OuO" , 120, 130);
            
            text("Score: " + score, 290, 170);
            
            for (var i = 0; i < rectangles.length; i++) {
                rectangles[i].move();
                rectangles[i].display();
                
            if(rectangles[i].y > 600 && mouseIsPressed) {
                if(mouseX > rectangles[i].x && //left side
                   mouseX < rectangles[i].x + 100 ) { // right side
                   //mouseY > this.y && // top
                   //mouseY < this.y + 50) // bottom
                    rectangles.splice(i,1);
                    score = score + 1; 
                }
              }  
            }
            
            stroke(0);
            strokeWeight(5);
            line(0, 600, 700, 600);
        }

        function Rectangle() {
            this.x = random(width);
            this.y = random(height);
            this.speed = random(1, 3);

            this.move = function() {
                this.y += this.speed;
                if (this.y > height) {
                    this.y = 0;
                }
            }

            this.display = function() {
                fill(255,246,55); 
                this.x = constrain(this.x, 100, 600);
                rect(this.x, this.y, 100, 50);
            }
            
            //  if (mouseX > this.x && //left side
            //     mouseX < this.x + 100 && // right side
            //     mouseY > this.y && // top
            //     mouseY < this.y + 50) //bottom {
            //     rectangles.splice(0,1);
            // }
            
        }
        
        function mousePressed() {
           
        }
         
        
    </script>
</head>

<body>
<form><input TYPE="button" onClick="history.go(0)" value="Reset"></form>
</body>

</html>
